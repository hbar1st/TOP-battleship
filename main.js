(()=>{"use strict";var n={365:(n,e,t)=>{t.d(e,{A:()=>h});var r=t(354),i=t.n(r),a=t(314),o=t.n(a),s=t(417),A=t.n(s),l=new URL(t(746),t.b),c=new URL(t(373),t.b),d=o()(i()),p=A()(l),u=A()(c);d.push([n.id,`@font-face {\n  font-family: "macondo_swash_capsregular";\n  src: url(${p}) format("woff2"),\n    url(${u}) format("woff");\n  font-weight: normal;\n  font-style: normal;\n}\n\n*:not(dialog) {\n  padding: 0;\n  margin: 0;\n  box-sizing: border-box;\n}\n\nbody {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  min-height: 100vh;\n  font-family: "macondo_swash_capsregular", serif;\n  background-color: #eee;\n  background-image: linear-gradient(\n      0deg,\n      #00bcd4 25%,\n      transparent 25%,\n      transparent 45%,\n      #00bcd4 45%,\n      #00bcd4\n    ),\n    linear-gradient(\n      90deg,\n      #10aae5 25%,\n      transparent 25%,\n      transparent 45%,\n      #10aae5 45%,\n      #00bcd4\n    );\n  background-size: 50px 50px;\n  background-position: 0 0, 50px 50px;\n  color: white;\n\n  main {\n    display: grid;\n    justify-items: center;\n    grid-template-columns: 1fr;\n    grid-template-rows: 1fr;\n    margin-top: 5vh;\n  }\n}\n\n#computer-turn,\n#computer-sinks-your-boat {\n  width: clamp(300px, max-content, 100vw);\n  padding: 30px;\n}\n#computer-turn > div,\n#computer-sinks-your-boat > div {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  gap: 20px;\n  color: white;\n  font-family: Impact, Haettenschweiler, "Arial Narrow Bold", sans-serif;\n  font-size: 2.5rem;\n  padding: 1rem 3rem;\n  background-color: #8e784e;\n\n  iframe {\n    border: 3px dashed black;\n  }\n  button {\n    font-size: inherit;\n    width: max-content;\n    font-family: Cambria, Cochin, Georgia, Times, "Times New Roman", serif;\n    border-radius: 5px;\n    box-shadow: 0px 2px 3px 1px rgb(107, 76, 5);\n    background-color: rgb(247, 219, 130);\n    padding: 0.5rem 2rem;\n    background-color: white;\n    cursor: pointer;\n  }\n}\n#computer-turn:backdrop,\n#computer-sinks-your-boat:backdrop,\n#your-turn-dialog:backdrop {\n  background-color: rgb(231, 216, 182);\n}\n#your-turn-dialog > div {\n  display: flex;\n  flex-direction: column;\n  gap: 1px;\n  color: black;\n  font-family: Impact, Haettenschweiler, "Arial Narrow Bold", sans-serif;\n  font-size: 2.5rem;\n  padding: 1rem 3rem;\n  gap: 3px;\n  background-color: #8e784e;\n  div {\n    text-align: center;\n    border-bottom: 2px solid rgb(107, 76, 5);\n    border-top: 3px solid rgb(245, 234, 219);\n\n    box-shadow: 0px 0px 2px 2px gray;\n    background-color: rgb(247, 219, 130);\n    padding: 0.5rem 2rem;\n    transform: scale(1, 0);\n    box-shadow: 0px 2px 3px 1px rgb(107, 76, 5);\n  }\n  div:first-child.show {\n    transform: scale(1) skew(-1deg, 0deg);\n  }\n  div:nth-child(2).show {\n    transform: scale(1) skew(2deg, 1deg);\n  }\n  div:nth-child(3).show {\n    transform: scale(1) skew(1deg, 2deg);\n  }\n  div:nth-child(4).show {\n    transform: scale(1) skew(3deg, 0deg);\n  }\n\n  button {\n    font-size: inherit;\n    width: max-content;\n    font-family: Cambria, Cochin, Georgia, Times, "Times New Roman", serif;\n    border-radius: 5px;\n    transform: scale(1, 0);\n    box-shadow: 0px 2px 3px 1px rgb(107, 76, 5);\n    background-color: rgb(247, 219, 130);\n    padding: 0.5rem 2rem;\n    background-color: white;\n    cursor: pointer;\n  }\n  button.show {\n    transform: scale(1);\n  }\n  button.show:hover {\n    background-color: azure;\n  }\n}\n\n#landing-dialog::before,\n#end-game::before {\n  content: "";\n  align-self: center;\n  justify-self: center;\n  grid-row: 1;\n  grid-column: 1;\n  width: clamp(250px, 450px, min(85vh, 85vw));\n  height: clamp(250px, 450px, min(85vw, 85vh));\n\n  aspect-ratio: 1;\n  min-width: 150px;\n\n  border-radius: 50%;\n  background: repeating-radial-gradient(\n    circle at 50% 50%,\n    #d4ffb382 0%,\n    #d4ffb382 0.7%,\n    transparent 0.7%,\n    transparent 17.5%\n  );\n  background-position: 0px, 0px;\n\n  padding: 20px;\n}\n#circle {\n  grid-row: 1;\n  grid-column: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  gap: 15px;\n  padding: 30px;\n  width: clamp(300px, 550px, min(95vh, 95vw));\n  height: clamp(300px, 550px, min(95vw, 95vh));\n  aspect-ratio: 1;\n  min-width: 150px;\n\n  border-radius: 50%;\n  background: repeating-conic-gradient(\n    from 0.25turn at 50% 50%,\n    #f69d3ce6,\n    10deg,\n    #0a762c99,\n    350deg,\n    #d4ffb3ba\n  );\n  header {\n    margin-top: calc(calc(min(100vh, 100vw) - 100%) / 2 - 25%);\n  }\n\n  form {\n    z-index: 2;\n    max-width: 85%;\n    font-size: clamp(14px, 3vw, 1.8rem);\n    display: flex;\n    flex-direction: column;\n    gap: 15px;\n    & > label:last-of-type {\n      input {\n        font-size: clamp(14px, 3vw, 1.8rem);\n        padding: 3px;\n\n        margin-left: 1rem;\n      }\n    }\n  }\n}\n\nh1 {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  font-size: clamp(14px, 4vw, 3.5rem);\n  border-top: 2px solid #808080;\n\n  padding: 2px 0px;\n}\nh1,\nh2 {\n  border-bottom: 2px solid #808080;\n}\n\nh1 > em {\n  font-size: clamp(18px, 6vw, 4.5rem);\n  letter-spacing: 1px;\n  font-kerning: normal;\n}\n\ndialog#landing-dialog {\n  grid-row: 1;\n  grid-column: 1;\n  background: transparent;\n  color: white;\n  border: none;\n  display: grid;\n  grid-template-columns: 1fr;\n  grid-template-rows: 1fr;\n}\n\nfieldset {\n  padding: 15px;\n  gap: 15px;\n  font-size: clamp(14px, 3vw, 1.8rem);\n  display: flex;\n  flex-direction: column;\n\n  text-align: center;\n\n  legend {\n    font-size: clamp(12px, 1.2rem, 5vw);\n  }\n  label {\n    display: flex;\n    align-items: center;\n  }\n\n  input {\n    margin: 5px;\n    max-width: 150px;\n  }\n  input[type="radio"] {\n    appearance: none;\n    width: 10px;\n    height: 10px;\n    border: 3px solid rgb(47, 79, 47);\n    transform: skew(45deg, 313deg);\n    transition: 0.2s all linear;\n    margin-right: 1rem;\n  }\n  input::placeholder {\n    font-weight: lighter;\n    opacity: 0.5;\n  }\n  input[type="text"]:invalid {\n    border: 2px solid red;\n  }\n  input:checked {\n    border: 4px solid rgb(135, 225, 135);\n  }\n\n  #another-human:checked ~ #opp-name {\n    border: 3px solid rgb(135, 225, 135);\n    transition: 0.2s all linear;\n  }\n  #another-human:not(:checked) ~ #opp-name {\n    transform: scale(1, 0);\n    transition: 0.2s all linear;\n  }\n  #opp-name {\n    padding: 0.5rem;\n    font-size: 1.5rem;\n    font-weight: 600;\n    border-radius: 5px;\n  }\n  label:hover {\n    text-shadow: 1px 0px whitesmoke;\n  }\n}\n.hide {\n  transform: scale(var(--scaleX, 1), var(--scaleY, 0));\n  transition: 0.5s all linear;\n}\n\n.show {\n  transform: scale(var(--scaleX, 1), var(--scaleY, 1));\n  transition: 0.5s all linear;\n}\n\n.pre-show {\n  transform: scale(var(--scaleX, 1), var(--scaleY, 0));\n}\n\nbutton {\n  letter-spacing: 0.05rem;\n  font-size: clamp(14px, 1.3rem, 2vw);\n  padding: 10px 0px;\n  border-radius: 5px;\n  font-weight: 600;\n  font-variant-ligatures: none;\n  width: 70%;\n  align-self: center;\n  font-family: "macondo_swash_capsregular";\n}\n\nbutton:hover,\ninput:hover {\n  background-color: azure;\n}\n\n#current-player-grid {\n  grid-row: 1;\n  grid-column: 1;\n  width: min-content;\n  background-color: #00bcd4;\n\n  h2,\n  p,\n  input {\n    font-family: Arial, Helvetica, sans-serif;\n    font-weight: 400;\n    font-size: 1.5rem;\n    margin: 1px 5px;\n    text-shadow: 1px 1px 1px black;\n    line-height: 1.5;\n  }\n  p {\n    margin-top: 5px;\n  }\n  input {\n    width: 90%;\n    padding: 2px 7px;\n    letter-spacing: 1px;\n    border-radius: 5px;\n    font-family: "macondo_swash_capsregular";\n  }\n  .instructions {\n    background-color: #100d39;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n  }\n}\n\ndiv.label {\n  text-shadow: 1px 1px 1px black;\n  text-align: center;\n  font-size: clamp(1rem, calc(1.1rem + 1vh), 2rem);\n  font-weight: 500;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  border: 3px ridge gray;\n}\ndiv.grid {\n  width: fit-content;\n  box-shadow: 1px 1px 1px 1px black;\n  border-radius: 5px;\n  border: 6px ridge gray;\n  display: grid;\n  grid-template-rows: repeat(11, max(min(4vw, 4vh), 30px));\n  grid-template-columns: repeat(11, max(min(4vw, 4vh), 30px));\n}\n\ndiv.cell {\n  border: 2px outset black;\n  font-size: clamp(1.3rem, max(min(3.3vw, 3.3vh), 26px), 1.6rem);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\ndiv.cell.hit::before {\n  content: "ðŸ”¥";\n  z-index: 4;\n}\ndiv.cell.miss::before {\n  content: "ðŸ’§";\n  background-color: #c1f0ff;\n  z-index: 4;\n}\n.hmargin {\n  margin: 4px 3px;\n}\n.vmargin {\n  margin: 3px 4px;\n}\n.ship {\n  display: grid;\n  grid-template-columns: 1fr;\n  grid-template-rows: 1fr;\n  border: 2px solid black;\n  border-radius: 35%;\n  z-index: 3;\n\n  --s: 13px; /* control the size*/\n  --c1: #b9b9b9;\n  --c2: #8e8383;\n  --c3: #847070;\n\n  background: conic-gradient(\n        from 75deg,\n        var(--c1) 15deg,\n        var(--c2) 0 30deg,\n        #0000 0 180deg,\n        var(--c2) 0 195deg,\n        var(--c1) 0 210deg,\n        #0000 0\n      )\n      calc(var(--s) / 2) calc(0.5 * var(--s) / tan(30deg)),\n    conic-gradient(\n      var(--c1) 30deg,\n      var(--c3) 0 75deg,\n      var(--c1) 0 90deg,\n      var(--c2) 0 105deg,\n      var(--c3) 0 150deg,\n      var(--c2) 0 180deg,\n      var(--c3) 0 210deg,\n      var(--c1) 0 256deg,\n      var(--c2) 0 270deg,\n      var(--c1) 0 286deg,\n      var(--c2) 0 331deg,\n      var(--c3) 0\n    );\n  background-size: var(--s) calc(var(--s) / tan(30deg));\n\n  &:hover {\n    --c1: #b9b9b9;\n    --c2: #b3b599;\n    --c3: #847f70;\n\n    cursor: cell;\n  }\n}\n\n.destroyer {\n  background-color: blue;\n}\n.battleship {\n  background-color: #9dde9d;\n}\n.patrol-boat {\n  background-color: pink;\n}\n.carrier {\n  background-color: purple;\n}\n.submarine {\n  background-color: yellow;\n}\n\n.ship-anchor {\n  fill: white;\n  align-self: center;\n  justify-self: center;\n}\n\n#fleet-status {\n  grid-row: 2;\n  grid-column: 1;\n  width: min-content;\n\n  background-color: #0c0c3c;\n  border: 3px dashed #c0fffe;\n\n  margin-top: 3px;\n  h3 {\n    font-size: 1.5rem;\n    padding: 1rem;\n    text-align: center;\n  }\n}\n#fleet-status:not(.hide) {\n  --scaleX: 0.7;\n  --scaleY: 0.7;\n  transform: scale(var(--scaleX), var(--scaleY));\n}\n\ndetails[open] {\n  padding: 1rem;\n}\ndetails {\n  padding: 1rem 0 0 0;\n}\n\n.ship.sunk {\n  display: initial;\n  background: #ff000029;\n  box-shadow: 1px 1px 1px 1px rgb(228, 109, 77);\n  border-color: red;\n}\n\n.ship.hidden {\n  display: none;\n}\n\n#end-game {\n  grid-row: 1;\n  grid-column: 1;\n  z-index: 5;\n  background: repeating-conic-gradient(\n    from 0.25turn at 50% 50%,\n    #f69d3ce6,\n    10deg,\n    #0a762c99,\n    350deg,\n    #d4ffb3ba\n  );\n  display: none;\n  border-radius: 50%;\n  background-color: #0a762c99;\n  border: none;\n  color: white;\n  padding: 30px;\n  width: max-content;\n  aspect-ratio: 1;\n  height: auto;\n  grid-template-columns: 1fr;\n  grid-template-rows: 1fr;\n\n  div {\n    grid-row: 1;\n    grid-column: 1;\n\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n  }\n  h1 {\n    font-size: max(3rem, 5vw);\n    color: white;\n  }\n\n  button {\n    letter-spacing: 0.05rem;\n    font-size: clamp(14px, 1.3rem, 2vw);\n    padding: 10px 0px;\n    border-radius: 5px;\n    font-weight: 600;\n    font-variant-ligatures: none;\n    width: 70%;\n    align-self: center;\n    font-family: "macondo_swash_capsregular";\n  }\n}\n`,"",{version:3,sources:["webpack://./src/styles.css"],names:[],mappings:"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",sourcesContent:['@font-face {\n  font-family: "macondo_swash_capsregular";\n  src: url("macondoswashcaps-regular-webfont.woff2") format("woff2"),\n    url("macondoswashcaps-regular-webfont.woff") format("woff");\n  font-weight: normal;\n  font-style: normal;\n}\n\n*:not(dialog) {\n  padding: 0;\n  margin: 0;\n  box-sizing: border-box;\n}\n\nbody {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  min-height: 100vh;\n  font-family: "macondo_swash_capsregular", serif;\n  background-color: #eee;\n  background-image: linear-gradient(\n      0deg,\n      #00bcd4 25%,\n      transparent 25%,\n      transparent 45%,\n      #00bcd4 45%,\n      #00bcd4\n    ),\n    linear-gradient(\n      90deg,\n      #10aae5 25%,\n      transparent 25%,\n      transparent 45%,\n      #10aae5 45%,\n      #00bcd4\n    );\n  background-size: 50px 50px;\n  background-position: 0 0, 50px 50px;\n  color: white;\n\n  main {\n    display: grid;\n    justify-items: center;\n    grid-template-columns: 1fr;\n    grid-template-rows: 1fr;\n    margin-top: 5vh;\n  }\n}\n\n#computer-turn,\n#computer-sinks-your-boat {\n  width: clamp(300px, max-content, 100vw);\n  padding: 30px;\n}\n#computer-turn > div,\n#computer-sinks-your-boat > div {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  gap: 20px;\n  color: white;\n  font-family: Impact, Haettenschweiler, "Arial Narrow Bold", sans-serif;\n  font-size: 2.5rem;\n  padding: 1rem 3rem;\n  background-color: #8e784e;\n\n  iframe {\n    border: 3px dashed black;\n  }\n  button {\n    font-size: inherit;\n    width: max-content;\n    font-family: Cambria, Cochin, Georgia, Times, "Times New Roman", serif;\n    border-radius: 5px;\n    box-shadow: 0px 2px 3px 1px rgb(107, 76, 5);\n    background-color: rgb(247, 219, 130);\n    padding: 0.5rem 2rem;\n    background-color: white;\n    cursor: pointer;\n  }\n}\n#computer-turn:backdrop,\n#computer-sinks-your-boat:backdrop,\n#your-turn-dialog:backdrop {\n  background-color: rgb(231, 216, 182);\n}\n#your-turn-dialog > div {\n  display: flex;\n  flex-direction: column;\n  gap: 1px;\n  color: black;\n  font-family: Impact, Haettenschweiler, "Arial Narrow Bold", sans-serif;\n  font-size: 2.5rem;\n  padding: 1rem 3rem;\n  gap: 3px;\n  background-color: #8e784e;\n  div {\n    text-align: center;\n    border-bottom: 2px solid rgb(107, 76, 5);\n    border-top: 3px solid rgb(245, 234, 219);\n\n    box-shadow: 0px 0px 2px 2px gray;\n    background-color: rgb(247, 219, 130);\n    padding: 0.5rem 2rem;\n    transform: scale(1, 0);\n    box-shadow: 0px 2px 3px 1px rgb(107, 76, 5);\n  }\n  div:first-child.show {\n    transform: scale(1) skew(-1deg, 0deg);\n  }\n  div:nth-child(2).show {\n    transform: scale(1) skew(2deg, 1deg);\n  }\n  div:nth-child(3).show {\n    transform: scale(1) skew(1deg, 2deg);\n  }\n  div:nth-child(4).show {\n    transform: scale(1) skew(3deg, 0deg);\n  }\n\n  button {\n    font-size: inherit;\n    width: max-content;\n    font-family: Cambria, Cochin, Georgia, Times, "Times New Roman", serif;\n    border-radius: 5px;\n    transform: scale(1, 0);\n    box-shadow: 0px 2px 3px 1px rgb(107, 76, 5);\n    background-color: rgb(247, 219, 130);\n    padding: 0.5rem 2rem;\n    background-color: white;\n    cursor: pointer;\n  }\n  button.show {\n    transform: scale(1);\n  }\n  button.show:hover {\n    background-color: azure;\n  }\n}\n\n#landing-dialog::before,\n#end-game::before {\n  content: "";\n  align-self: center;\n  justify-self: center;\n  grid-row: 1;\n  grid-column: 1;\n  width: clamp(250px, 450px, min(85vh, 85vw));\n  height: clamp(250px, 450px, min(85vw, 85vh));\n\n  aspect-ratio: 1;\n  min-width: 150px;\n\n  border-radius: 50%;\n  background: repeating-radial-gradient(\n    circle at 50% 50%,\n    #d4ffb382 0%,\n    #d4ffb382 0.7%,\n    transparent 0.7%,\n    transparent 17.5%\n  );\n  background-position: 0px, 0px;\n\n  padding: 20px;\n}\n#circle {\n  grid-row: 1;\n  grid-column: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  gap: 15px;\n  padding: 30px;\n  width: clamp(300px, 550px, min(95vh, 95vw));\n  height: clamp(300px, 550px, min(95vw, 95vh));\n  aspect-ratio: 1;\n  min-width: 150px;\n\n  border-radius: 50%;\n  background: repeating-conic-gradient(\n    from 0.25turn at 50% 50%,\n    #f69d3ce6,\n    10deg,\n    #0a762c99,\n    350deg,\n    #d4ffb3ba\n  );\n  header {\n    margin-top: calc(calc(min(100vh, 100vw) - 100%) / 2 - 25%);\n  }\n\n  form {\n    z-index: 2;\n    max-width: 85%;\n    font-size: clamp(14px, 3vw, 1.8rem);\n    display: flex;\n    flex-direction: column;\n    gap: 15px;\n    & > label:last-of-type {\n      input {\n        font-size: clamp(14px, 3vw, 1.8rem);\n        padding: 3px;\n\n        margin-left: 1rem;\n      }\n    }\n  }\n}\n\nh1 {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  font-size: clamp(14px, 4vw, 3.5rem);\n  border-top: 2px solid #808080;\n\n  padding: 2px 0px;\n}\nh1,\nh2 {\n  border-bottom: 2px solid #808080;\n}\n\nh1 > em {\n  font-size: clamp(18px, 6vw, 4.5rem);\n  letter-spacing: 1px;\n  font-kerning: normal;\n}\n\ndialog#landing-dialog {\n  grid-row: 1;\n  grid-column: 1;\n  background: transparent;\n  color: white;\n  border: none;\n  display: grid;\n  grid-template-columns: 1fr;\n  grid-template-rows: 1fr;\n}\n\nfieldset {\n  padding: 15px;\n  gap: 15px;\n  font-size: clamp(14px, 3vw, 1.8rem);\n  display: flex;\n  flex-direction: column;\n\n  text-align: center;\n\n  legend {\n    font-size: clamp(12px, 1.2rem, 5vw);\n  }\n  label {\n    display: flex;\n    align-items: center;\n  }\n\n  input {\n    margin: 5px;\n    max-width: 150px;\n  }\n  input[type="radio"] {\n    appearance: none;\n    width: 10px;\n    height: 10px;\n    border: 3px solid rgb(47, 79, 47);\n    transform: skew(45deg, 313deg);\n    transition: 0.2s all linear;\n    margin-right: 1rem;\n  }\n  input::placeholder {\n    font-weight: lighter;\n    opacity: 0.5;\n  }\n  input[type="text"]:invalid {\n    border: 2px solid red;\n  }\n  input:checked {\n    border: 4px solid rgb(135, 225, 135);\n  }\n\n  #another-human:checked ~ #opp-name {\n    border: 3px solid rgb(135, 225, 135);\n    transition: 0.2s all linear;\n  }\n  #another-human:not(:checked) ~ #opp-name {\n    transform: scale(1, 0);\n    transition: 0.2s all linear;\n  }\n  #opp-name {\n    padding: 0.5rem;\n    font-size: 1.5rem;\n    font-weight: 600;\n    border-radius: 5px;\n  }\n  label:hover {\n    text-shadow: 1px 0px whitesmoke;\n  }\n}\n.hide {\n  transform: scale(var(--scaleX, 1), var(--scaleY, 0));\n  transition: 0.5s all linear;\n}\n\n.show {\n  transform: scale(var(--scaleX, 1), var(--scaleY, 1));\n  transition: 0.5s all linear;\n}\n\n.pre-show {\n  transform: scale(var(--scaleX, 1), var(--scaleY, 0));\n}\n\nbutton {\n  letter-spacing: 0.05rem;\n  font-size: clamp(14px, 1.3rem, 2vw);\n  padding: 10px 0px;\n  border-radius: 5px;\n  font-weight: 600;\n  font-variant-ligatures: none;\n  width: 70%;\n  align-self: center;\n  font-family: "macondo_swash_capsregular";\n}\n\nbutton:hover,\ninput:hover {\n  background-color: azure;\n}\n\n#current-player-grid {\n  grid-row: 1;\n  grid-column: 1;\n  width: min-content;\n  background-color: #00bcd4;\n\n  h2,\n  p,\n  input {\n    font-family: Arial, Helvetica, sans-serif;\n    font-weight: 400;\n    font-size: 1.5rem;\n    margin: 1px 5px;\n    text-shadow: 1px 1px 1px black;\n    line-height: 1.5;\n  }\n  p {\n    margin-top: 5px;\n  }\n  input {\n    width: 90%;\n    padding: 2px 7px;\n    letter-spacing: 1px;\n    border-radius: 5px;\n    font-family: "macondo_swash_capsregular";\n  }\n  .instructions {\n    background-color: #100d39;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n  }\n}\n\ndiv.label {\n  text-shadow: 1px 1px 1px black;\n  text-align: center;\n  font-size: clamp(1rem, calc(1.1rem + 1vh), 2rem);\n  font-weight: 500;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  border: 3px ridge gray;\n}\ndiv.grid {\n  width: fit-content;\n  box-shadow: 1px 1px 1px 1px black;\n  border-radius: 5px;\n  border: 6px ridge gray;\n  display: grid;\n  grid-template-rows: repeat(11, max(min(4vw, 4vh), 30px));\n  grid-template-columns: repeat(11, max(min(4vw, 4vh), 30px));\n}\n\ndiv.cell {\n  border: 2px outset black;\n  font-size: clamp(1.3rem, max(min(3.3vw, 3.3vh), 26px), 1.6rem);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\ndiv.cell.hit::before {\n  content: "ðŸ”¥";\n  z-index: 4;\n}\ndiv.cell.miss::before {\n  content: "ðŸ’§";\n  background-color: #c1f0ff;\n  z-index: 4;\n}\n.hmargin {\n  margin: 4px 3px;\n}\n.vmargin {\n  margin: 3px 4px;\n}\n.ship {\n  display: grid;\n  grid-template-columns: 1fr;\n  grid-template-rows: 1fr;\n  border: 2px solid black;\n  border-radius: 35%;\n  z-index: 3;\n\n  --s: 13px; /* control the size*/\n  --c1: #b9b9b9;\n  --c2: #8e8383;\n  --c3: #847070;\n\n  background: conic-gradient(\n        from 75deg,\n        var(--c1) 15deg,\n        var(--c2) 0 30deg,\n        #0000 0 180deg,\n        var(--c2) 0 195deg,\n        var(--c1) 0 210deg,\n        #0000 0\n      )\n      calc(var(--s) / 2) calc(0.5 * var(--s) / tan(30deg)),\n    conic-gradient(\n      var(--c1) 30deg,\n      var(--c3) 0 75deg,\n      var(--c1) 0 90deg,\n      var(--c2) 0 105deg,\n      var(--c3) 0 150deg,\n      var(--c2) 0 180deg,\n      var(--c3) 0 210deg,\n      var(--c1) 0 256deg,\n      var(--c2) 0 270deg,\n      var(--c1) 0 286deg,\n      var(--c2) 0 331deg,\n      var(--c3) 0\n    );\n  background-size: var(--s) calc(var(--s) / tan(30deg));\n\n  &:hover {\n    --c1: #b9b9b9;\n    --c2: #b3b599;\n    --c3: #847f70;\n\n    cursor: cell;\n  }\n}\n\n.destroyer {\n  background-color: blue;\n}\n.battleship {\n  background-color: #9dde9d;\n}\n.patrol-boat {\n  background-color: pink;\n}\n.carrier {\n  background-color: purple;\n}\n.submarine {\n  background-color: yellow;\n}\n\n.ship-anchor {\n  fill: white;\n  align-self: center;\n  justify-self: center;\n}\n\n#fleet-status {\n  grid-row: 2;\n  grid-column: 1;\n  width: min-content;\n\n  background-color: #0c0c3c;\n  border: 3px dashed #c0fffe;\n\n  margin-top: 3px;\n  h3 {\n    font-size: 1.5rem;\n    padding: 1rem;\n    text-align: center;\n  }\n}\n#fleet-status:not(.hide) {\n  --scaleX: 0.7;\n  --scaleY: 0.7;\n  transform: scale(var(--scaleX), var(--scaleY));\n}\n\ndetails[open] {\n  padding: 1rem;\n}\ndetails {\n  padding: 1rem 0 0 0;\n}\n\n.ship.sunk {\n  display: initial;\n  background: #ff000029;\n  box-shadow: 1px 1px 1px 1px rgb(228, 109, 77);\n  border-color: red;\n}\n\n.ship.hidden {\n  display: none;\n}\n\n#end-game {\n  grid-row: 1;\n  grid-column: 1;\n  z-index: 5;\n  background: repeating-conic-gradient(\n    from 0.25turn at 50% 50%,\n    #f69d3ce6,\n    10deg,\n    #0a762c99,\n    350deg,\n    #d4ffb3ba\n  );\n  display: none;\n  border-radius: 50%;\n  background-color: #0a762c99;\n  border: none;\n  color: white;\n  padding: 30px;\n  width: max-content;\n  aspect-ratio: 1;\n  height: auto;\n  grid-template-columns: 1fr;\n  grid-template-rows: 1fr;\n\n  div {\n    grid-row: 1;\n    grid-column: 1;\n\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n  }\n  h1 {\n    font-size: max(3rem, 5vw);\n    color: white;\n  }\n\n  button {\n    letter-spacing: 0.05rem;\n    font-size: clamp(14px, 1.3rem, 2vw);\n    padding: 10px 0px;\n    border-radius: 5px;\n    font-weight: 600;\n    font-variant-ligatures: none;\n    width: 70%;\n    align-self: center;\n    font-family: "macondo_swash_capsregular";\n  }\n}\n'],sourceRoot:""}]);const h=d},314:n=>{n.exports=function(n){var e=[];return e.toString=function(){return this.map((function(e){var t="",r=void 0!==e[5];return e[4]&&(t+="@supports (".concat(e[4],") {")),e[2]&&(t+="@media ".concat(e[2]," {")),r&&(t+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),t+=n(e),r&&(t+="}"),e[2]&&(t+="}"),e[4]&&(t+="}"),t})).join("")},e.i=function(n,t,r,i,a){"string"==typeof n&&(n=[[null,n,void 0]]);var o={};if(r)for(var s=0;s<this.length;s++){var A=this[s][0];null!=A&&(o[A]=!0)}for(var l=0;l<n.length;l++){var c=[].concat(n[l]);r&&o[c[0]]||(void 0!==a&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=a),t&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=t):c[2]=t),i&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=i):c[4]="".concat(i)),e.push(c))}},e}},417:n=>{n.exports=function(n,e){return e||(e={}),n?(n=String(n.__esModule?n.default:n),/^['"].*['"]$/.test(n)&&(n=n.slice(1,-1)),e.hash&&(n+=e.hash),/["'() \t\n]|(%20)/.test(n)||e.needQuotes?'"'.concat(n.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):n):n}},354:n=>{n.exports=function(n){var e=n[1],t=n[3];if(!t)return e;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),a="/*# ".concat(i," */");return[e].concat([a]).join("\n")}return[e].join("\n")}},72:n=>{var e=[];function t(n){for(var t=-1,r=0;r<e.length;r++)if(e[r].identifier===n){t=r;break}return t}function r(n,r){for(var a={},o=[],s=0;s<n.length;s++){var A=n[s],l=r.base?A[0]+r.base:A[0],c=a[l]||0,d="".concat(l," ").concat(c);a[l]=c+1;var p=t(d),u={css:A[1],media:A[2],sourceMap:A[3],supports:A[4],layer:A[5]};if(-1!==p)e[p].references++,e[p].updater(u);else{var h=i(u,r);r.byIndex=s,e.splice(s,0,{identifier:d,updater:h,references:1})}o.push(d)}return o}function i(n,e){var t=e.domAPI(e);return t.update(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap&&e.supports===n.supports&&e.layer===n.layer)return;t.update(n=e)}else t.remove()}}n.exports=function(n,i){var a=r(n=n||[],i=i||{});return function(n){n=n||[];for(var o=0;o<a.length;o++){var s=t(a[o]);e[s].references--}for(var A=r(n,i),l=0;l<a.length;l++){var c=t(a[l]);0===e[c].references&&(e[c].updater(),e.splice(c,1))}a=A}}},659:n=>{var e={};n.exports=function(n,t){var r=function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(n){t=null}e[n]=t}return e[n]}(n);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}},540:n=>{n.exports=function(n){var e=document.createElement("style");return n.setAttributes(e,n.attributes),n.insert(e,n.options),e}},56:(n,e,t)=>{n.exports=function(n){var e=t.nc;e&&n.setAttribute("nonce",e)}},825:n=>{n.exports=function(n){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=n.insertStyleElement(n);return{update:function(t){!function(n,e,t){var r="";t.supports&&(r+="@supports (".concat(t.supports,") {")),t.media&&(r+="@media ".concat(t.media," {"));var i=void 0!==t.layer;i&&(r+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),r+=t.css,i&&(r+="}"),t.media&&(r+="}"),t.supports&&(r+="}");var a=t.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleTagTransform(r,n,e.options)}(e,n,t)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(e)}}}},113:n=>{n.exports=function(n,e){if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}},373:(n,e,t)=>{n.exports=t.p+"929320a089116fbcb996.woff"},746:(n,e,t)=>{n.exports=t.p+"27942eeb03e55e26b3a6.woff2"}},t={};function r(e){var i=t[e];if(void 0!==i)return i.exports;var a=t[e]={id:e,exports:{}};return n[e](a,a.exports,r),a.exports}r.m=n,r.n=n=>{var e=n&&n.__esModule?()=>n.default:()=>n;return r.d(e,{a:e}),e},r.d=(n,e)=>{for(var t in e)r.o(e,t)&&!r.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(n){if("object"==typeof window)return window}}(),r.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),(()=>{var n;r.g.importScripts&&(n=r.g.location+"");var e=r.g.document;if(!n&&e&&(e.currentScript&&"SCRIPT"===e.currentScript.tagName.toUpperCase()&&(n=e.currentScript.src),!n)){var t=e.getElementsByTagName("script");if(t.length)for(var i=t.length-1;i>-1&&(!n||!/^http(s?):/.test(n));)n=t[i--].src}if(!n)throw new Error("Automatic publicPath is not supported in this browser");n=n.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=n})(),r.b=document.baseURI||self.location.href,r.nc=void 0;var i=r(72),a=r.n(i),o=r(825),s=r.n(o),A=r(659),l=r.n(A),c=r(56),d=r.n(c),p=r(540),u=r.n(p),h=r(113),g=r.n(h),m=r(365),C={};C.styleTagTransform=g(),C.setAttributes=d(),C.insert=l().bind(null,"head"),C.domAPI=s(),C.insertStyleElement=u(),a()(m.A,C),m.A&&m.A.locals&&m.A.locals;const f=r.p+"69c2e9644e5691b530b8.gif",B=r.p+"aa518909f58da00e39b1.gif",x=r.p+"34ab9f8eb1e96323d179.svg",E=r.p+"a3142128e857bd009630.svg";class b{#n;#e;#t=[];#r=[];#i=[];static horizontal="hor";static vertical="ver";constructor(n,e=10){this.#n=e,this.#e=n}get ships(){return this.#i}get name(){return this.#e}get misses(){return this.#t}get hits(){return this.#r}get size(){return this.#n}getShipById(n){const e=this.#i.filter((e=>e.ship.id===n));return e.length?e[0]:null}getBoardArray(n=!1){const e=[];for(let n=0;n<this.#n;n++){const n=[];for(let e=0;e<this.#n;e++)n.push("o");e.push(n)}this.misses.forEach((n=>e[n.y][n.x]="m")),n?this.#r.forEach((n=>e[n.y][n.x]="x")):this.#i.forEach((n=>{for(let t=0;t<n.ship.length;t++)"hor"===n.dir?e[n.y1][n.x1+t]=n.ship.name:e[n.y1+t][n.x1]=n.ship.name}));let t=[];for(let n=e.length-1;n>=0;n--)t.push(e[n]);return t}#a(n,e){this.#t.push({x:n,y:e})}#o(n,e){this.#r.push({x:n,y:e})}receiveAttack(n,e){let t,r=!1,i=0;do{t=this.#i[i];let a=0;do{"hor"===t.dir&&t.x1+a===n&&t.y1===e||"ver"===t.dir&&t.x1===n&&t.y1+a===e?(r=!0,t.ship.hit()):a++}while(!r&&t.ship.length>a);i++}while(!r&&this.#i.length>i);return r?this.#o(n,e):this.#a(n,e),!!r&&t.ship}allShipsSunk(){return this.#i.reduce(((n,e)=>n&&e.ship.isSunk()),!0)}placeShip(n,e,t,r="hor"){const i=this.#i.filter((e=>e.ship!==n));return!!this.boardFree(e,t,n.length,r,i)&&(i.push({ship:n,x1:e,y1:t,dir:r}),this.#i=i,!0)}rotateShip(n,e){let t=null;for(let r=0;r<this.#i.length;r++)if(this.#i[r].x1===n&&this.#i[r].y1===e){t=this.#i[r];break}if(!t)return t;if("hor"===t.dir){let n=this.placeShip(t.ship,t.x1,t.y1,"ver");n?t.dir="ver":(n=this.placeShip(t.ship,t.x1,t.y1-t.ship.length+1,"ver"),n&&(t.dir="ver",t.y1=t.y1-t.ship.length+1))}else{let n=this.placeShip(t.ship,t.x1-t.ship.length+1,t.y1,"hor");n?(t.dir="hor",t.x1=t.x1-t.ship.length+1):(n=this.placeShip(t.ship,t.x1,t.y1),n&&(t.dir="hor"))}return t}getIndicatedSpots(n,e,t,r){const i=[];for(let a=0;a<t;a++)if("hor"===r){const t=n+a;if(t===this.#n)return null;i.push({x:t,y:e})}else{const t=e+a;if(t===this.#n)return null;i.push({x:n,y:t})}return i}getAllShipSpots(n=this.#i){const e=[];return n.forEach((n=>{for(let t=0;t<n.ship.length;t++)"hor"===n.dir?e.push({x:n.x1+t,y:n.y1}):e.push({x:n.x1,y:n.y1+t})})),e}boardFree(n,e,t,r,i=this.#i){if(n<0||e<0||n>this.#n-1||e>this.#n-1)return!1;const a=this.getIndicatedSpots(n,e,t,r);if(null===a)return!1;const o=this.getAllShipSpots(i);let s=0;return a.forEach((n=>{o.find((e=>e.x===n.x&&e.y===n.y))&&s++})),0===s}placeShipRandomly(n){let e;e=Math.floor(2*Math.random())?b.horizontal:b.vertical;let t=!1;do{const r=Math.floor(10*Math.random()),i=Math.floor(10*Math.random());t=this.placeShip(n,r,i,e),t||(t=e===b.horizontal?this.placeShip(n,r,i,b.vertical):this.placeShip(n,r,i,b.horizontal))}while(!t)}isCellSurroundedByWater(n,e){const t=this.getSurroundingPositions(n,e);return t.filter((n=>this.misses.find((e=>n.x===e.x&&n.y===e.y))??!1)).length===t.length}getSurroundingPositions(n,e,t=null){const r=[];return t&&t!==b.horizontal||(n+1<this.size&&!this.isDuplicated(n+1,e)&&r.push({x:n+1,y:e}),n-1>=0&&!this.isDuplicated(n-1,e)&&r.push({x:n-1,y:e})),t&&t!==b.vertical||(e+1<this.size&&!this.isDuplicated(n,e+1)&&r.push({x:n,y:e+1}),e-1>=0&&!this.isDuplicated(n,e-1)&&r.push({x:n,y:e-1})),r}isDuplicated(n,e){return[...this.misses,...this.hits].filter((t=>t.x===n&&t.y===e)).length>0}toggleDir(n){return n===b.horizontal?b.vertical:b.horizontal}pickRandomRemainingPos(){const n=[...this.misses,...this.hits],e=Math.floor(Math.random()*(100-n.length)),t=[],r=[];for(let n=0;n<this.size;n++){t.push([]);for(let e=0;e<this.size;e++)t[n].push(0)}n.forEach((n=>{t[n.x][n.y]=n}));for(let n=0;n<this.size;n++)for(let e=0;e<this.size;e++)0===t[n][e]&&r.push({x:n,y:e});return r[e]}}class y{#s;#e;#r=0;#A=!1;constructor(n,e){this.#s=n,this.#e=e}get length(){return this.#s}get name(){return this.#e}hit(){return this.#r+=1,this.#r>=this.#s&&(this.#A=!0),this.#r}isSunk(){return this.#A}}class v extends y{id;constructor(){super(5,"Carrier"),this.id="carrier"}}class w extends y{id;constructor(){super(4,"Battle Ship"),this.id="battleship"}}class k extends y{id;constructor(){super(3,"Destroyer"),this.id="destroyer"}}class I extends y{id;constructor(){super(3,"Submarine"),this.id="submarine"}}class z extends y{id;constructor(){super(2,"Patrol Boat"),this.id="patrol-boat"}}function S(n,e){if("Computer"===n)throw new Error("You can't call yourself Computer!");const t=T("human",n,e),r=t.getBoard();return r.placeShipRandomly(new z),r.placeShipRandomly(new v),r.placeShipRandomly(new w),r.placeShipRandomly(new k),r.placeShipRandomly(new I),t}function L(n){return"The Computer"===n.getName()}function T(n,e,t){const r=new b(n),i=e,a=t;return{getBoard:()=>r,getName:()=>i,getId:()=>a}}function D(n,e=0){setTimeout((()=>{n.classList.remove("pre-show"),n.classList.remove("hide"),n.classList.add("show")}),e)}function j(n,e,t){const r=e.getBoard(),i=document.createElement("div");return i.classList.add("ship",n.ship.id),i.setAttribute("id",n.ship.id),t||i.addEventListener("click",(n=>{!function(n,e){if(n.target.classList.contains("ship")){const t=n.target.children.item(0),r=n.target;if(!t||t&&"rotate-anchor"===t.id){r.setAttribute("draggable","true"),r.addEventListener("dragstart",(n=>{const e=r.getBoundingClientRect();let t="right";if(r.getAttribute("data-dir")===b.horizontal){const r=Math.round(e.left+e.width/2);t=n.clientX>r?"right":n.clientX===r?"center":"left"}else{const r=Math.round(e.top+e.height/2);t=n.clientY>r?"bottom":n.clientY===r?"center":"top"}n.dataTransfer.setData("mouseLoc",t),n.dataTransfer.setData("text/plain",r.id)})),r.style.cursor="grab";const e=document.createElement("img");e.setAttribute("src",`${E}`),e.setAttribute("alt","move ship"),e.classList.add("ship-anchor"),e.setAttribute("id","move-anchor"),t?n.target.replaceChild(e,t):n.target.appendChild(e)}if(t&&"move-anchor"===t.id){r.setAttribute("draggable","false"),r.style.cursor="pointer";const i=Y(e);n.target.replaceChild(i,t)}}}(n,e)})),"hor"===n.dir?(i.style.gridColumn=`${n.x1+2} / span ${n.ship.length}`,i.style.gridRow=r.size-n.y1+1,i.setAttribute("data-dir","hor"),i.setAttribute("data-x1",n.x1),i.setAttribute("data-y1",n.y1),i.classList.add("vmargin")):(i.style.gridRow=`${r.size-n.ship.length-n.y1+2} / span ${n.ship.length}`,i.style.gridColumn=2+n.x1,i.setAttribute("data-dir","ver"),i.setAttribute("data-x1",n.x1),i.setAttribute("data-y1",n.y1),i.classList.add("hmargin")),i}function q(n,e,t){let r={x:0,y:0};return r.x=t-2,r.y=n.size-e+1,r}function Y(n){const e=document.createElement("img");return e.setAttribute("src",`${x}`),e.setAttribute("alt","rotate ship"),e.classList.add("ship-anchor"),e.setAttribute("id","rotate-anchor"),e.addEventListener("click",(e=>{!function(n,e){const t=n.target.parentElement,r=t.getAttribute("data-dir"),i=Number(t.getAttribute("data-x1")),a=Number(t.getAttribute("data-y1")),o=e.getBoard().rotateShip(i,a);if(o.dir!==r||o.x1!==i||o.y1!==a){const n=j(o,e),r=Y(e);n.appendChild(r),t.parentElement.replaceChild(n,t)}}(e,n)})),e}function M(n,e){if(L(n))setTimeout((()=>{alert(`The Computer has won! Sorry about that ${e.getName()}!`)}),10);else{const e=document.querySelector("#end-game"),t=document.querySelector("#winner-name"),r=document.querySelector("#play-again"),i=document.querySelector("#hide-pane");r.addEventListener("click",(()=>{location.reload()})),i.addEventListener("click",(()=>{e.style.display="none"})),t.innerText=`${n.getName()}`,e.style.display="grid"}}const R=document.querySelector("#landing-dialog"),U=document.querySelector("form"),N=document.querySelector("#main-player"),$=document.querySelector("#opp-name");function W(n,e,t){const r=document.querySelector("#current-player-grid"),i=_(r),a=`<h1>${n.getName()}'s board</h1>`,o=document.createElement("input");function s(n){H(n,e,t)}o.setAttribute("type","button"),n===e?o.setAttribute("id",n.getId()):o.setAttribute("id",`${e.getId()}-turn`),o.setAttribute("value","play"),L(t)?o.addEventListener("click",s,F):n===e?o.addEventListener("click",(()=>{r.classList.remove("show","pre-show"),r.classList.add("hide"),setTimeout((()=>{W(t,e,t)}),500)}),F):o.addEventListener("click",s,F),i.innerHTML=a,i.innerHTML+='<h2>Let\'s setup your board! If you like the current random setup, click "play" to continue the game. Otherwise, click on a ship to toggle motion type (move vs. rotate). Use the anchor to drag. Or click the anchor to rotate.</h2>',i.innerHTML+='<p>Click "play" to lock the board and start the game.</p>',i.appendChild(o),r.classList.add("pre-show"),Z(document.querySelector("#current-player-grid .grid"),n),R.classList.add("hide"),D(r)}function _(n){n.classList.add("pre-show"),n.classList.remove("show","hide");const e=document.createElement("div");return e.classList.add("instructions"),n.innerHTML="",n.appendChild(e),X(n),e}function X(n){const e=document.createElement("div");return e.classList.add("grid"),n.appendChild(e),e}function H(n,e,t){const r=document.querySelector("#current-player-grid"),i=new AbortController,a=document.querySelector("#fleet-status");let o;o="main-player"===n.target.id?e:"opp-player"===n.target.id?t:"main-player-turn"===n.target.id?e:t;const s=L(t);let A,l;if("opp-player"===n.target.id&&s){r.classList.remove("show"),a.classList.remove("show"),r.classList.add("hide"),a.classList.add("hide");const n=e.getBoard(),i=t.computerAttacks(n),s=document.querySelector("#computer-turn"),A=document.querySelector("#computer-message"),l=document.querySelector("#torpedo-gif"),c=document.querySelector("#computer-turn button");if(c.setAttribute("id","main-player"),i)if(i.isSunk())if(n.allShipsSunk())M(o,e);else{const n=document.querySelector("#computer-sinks-your-boat"),r=document.querySelector("#computer-sinks-your-boat button");r.setAttribute("id","main-player"),r.addEventListener("click",(r=>{n.close(),V(r,e,t)}),F),n.show()}else A.innerText=`The Computer manages to hit your ${i.name}!`,l.setAttribute("src",f),c.addEventListener("click",(n=>{s.close(),V(n,e,t)}),F),s.showModal();else l.setAttribute("src",B),A.innerText="The Computer tries but fails to hit any of your ships!",c.addEventListener("click",(n=>{s.close(),V(n,e,t)}),F),s.showModal()}else{const c=_(r),d=document.querySelector("#current-player-grid .grid");"main-player-turn"!==n.target.id&&"opp-player-turn"!==n.target.id?(r.classList.add("pre-show"),d.addEventListener("click",(function(n){const r=o===e?t.getBoard():e.getBoard();document.querySelector("#current-player-grid"),function(n,e){const t=n.target.style.gridRow,r=n.target.style.gridColumn;if(!n.target.classList.contains("cell")||n.target.classList.contains("hit")||n.target.classList.contains("miss"))return!1;{const i=q(e,t,r),a=e.receiveAttack(i.x,i.y);if(a){if(n.target.classList.add("hit"),a.isSunk()){const n=document.querySelector(`#current-player-grid .${a.id}`);n.classList.add("sunk"),n.classList.remove("hidden")}}else n.target.classList.add("miss");if(!e.allShipsSunk()){const n=document.querySelector(".instructions>input");n.classList.remove("hide"),n.classList.add("show")}return!0}}(n,r)&&(r.allShipsSunk()&&M(o,t),i.abort())}),i),D(r),a.classList.add("pre-show"),a.innerHTML="",a.innerHTML="<h3>Your Fleet Status</h3>",Z(X(a),o,!0),D(a)):(r.classList.remove("show"),a.classList.remove("show"),r.classList.add("hide"),a.classList.add("hide")),"main-player"===n.target.id||"opp-player"===n.target.id&&!s?(A=`<h1>${o.getName()}'s Target board</h1><details><summary>Instructions</summary><p>Clicking a cell will shoot a torpedo at that location.</p>`,A+=s?'<p>After you\'re done click "next"</p></details>':'<p>After you\'re done click "next", then hand your device over to the other player.</p></details>',l=document.createElement("input"),l.setAttribute("type","button"),"main-player"===n.target.id?s?l.setAttribute("id","opp-player"):l.setAttribute("id","opp-player-turn"):s?l.setAttribute("id","main-player"):l.setAttribute("id","main-player-turn"),l.setAttribute("value","next"),l.addEventListener("click",(n=>{H(n,e,t)}),F),function(n,e){const t=e.getBoard();let r=0,i="A".charCodeAt(0),a=[];t.ships.forEach((t=>{const r=j(t,e,!0);t.ship.isSunk()?(r.classList.add("sunk"),r.classList.remove("hidden")):r.classList.add("hidden"),n.appendChild(r)}));for(let n=0;n<t.size+1;n++){const e=[];for(let a=0;a<t.size+1;a++){const o=document.createElement("div");n===t.size&&0!==a&&(o.innerText=r,o.classList.add("label"),r++),0===a&&n<t.size&&(o.innerText=String.fromCharCode(i),o.classList.add("label"),i++),0===a&&n===t.size&&o.classList.add("label"),o.classList.contains("label")||o.classList.add("cell"),e.push(o)}a.push(e)}let o=[];for(let n=t.size;n>=0;n--)o.push(a[n]);for(let e=0;e<t.size+1;e++)for(let r=0;r<t.size+1;r++){if(o[e][r].style.gridRow=e+1,o[e][r].style.gridColumn=r+1,o[e][r].classList.contains("cell")){const n=t.hits,i=t.misses,a=q(t,e+1,r+1),s=i.filter((n=>n.x===a.x&&n.y===a.y)),A=n.filter((n=>n.x===a.x&&n.y===a.y));s.length?o[e][r].classList.add("miss"):A.length&&o[e][r].classList.add("hit")}n.appendChild(o[e][r])}}(d,o===e?t:e),c.innerHTML=A,l&&(l.classList.add("hide"),l.classList.remove("show","pre-show"),c.appendChild(l))):"main-player-turn"!==n.target.id&&"opp-player-turn"!==n.target.id||P(o,e,t)}}N.addEventListener("input",(()=>{""!=N.value&&N.setCustomValidity("")})),$.addEventListener("input",(()=>{""!=$.value&&$.setCustomValidity("")})),document.querySelector("form button").addEventListener("click",(n=>{let e;n.preventDefault();let t=!0;""===N.value?(N.setCustomValidity("Type in your name"),N.reportValidity(),t=!1):N.setCustomValidity("");const r=U.elements.namedItem("opponent");let i=0;if(r.forEach((n=>!!n.checked&&(i=n.id))),"the-computer"===i)e=function(){const n=T("computer","The Computer","opp-player"),e=n.getBoard();let t=null,r=[];e.placeShipRandomly(new z),e.placeShipRandomly(new v),e.placeShipRandomly(new w),e.placeShipRandomly(new k),e.placeShipRandomly(new I);const i={memory:r,computerAttacks:function(n){n.hits,n.misses;let e=null,i=0;do{const a=n.pickRandomRemainingPos();let o=a.x,s=a.y,A=[];1===r.length?A=n.getSurroundingPositions(r[0].x,r[0].y):r.length>1&&(r.forEach((e=>{A=[...A,...n.getSurroundingPositions(e.x,e.y,t)]})),0===A.length&&(t=n.toggleDir(t))),A.length>0&&(o=A[0].x,s=A[0].y),n.isCellSurroundedByWater(o,s)||n.isDuplicated(o,s)||(e={x:o,y:s}),100===i&&(r=[])}while(!e&&++i<200);if(200===i)throw new Error("Found a bug in the computer playing logic, please report logs");const a=n.receiveAttack(e.x,e.y);if(a&&a.isSunk()){const n=[e];for(let i=0;i<r.length;i++)if(t===b.horizontal){if(r[i].y===e.y)if(n.length>0)for(let e=0;e<n.length;e++){if(r[i].x<n[e].x){n.splice(e,0,r[i]);break}if(e===n.length-1){n.push(r[i]);break}}else n.push(r[i])}else if(r[i].x===e.x)if(n.length>0){for(let e=0;e<n.length;e++)if(r[i].y<n[e].y){n.splice(e,0,r[i]);break}}else n.push(r[i]);let i=0;for(let t=0;t<a.length;t++)if(n[t].x===e.x&&n[t].y===e.y){i=t;break}i-a.length+1<0?n.splice(i,a.length):n.splice(i-a.length+1,a.length),r=[...n]}else a&&(r.push(e),r.length>=2&&(r[0].x===r[1].x?t=b.vertical:r[0].y===r[1].y&&(t=b.horizontal)));return a}};return Object.assign(n,i)}();else{const n=document.querySelector("#opp-name");""===n.value?(n.setCustomValidity("Type in a name"),n.reportValidity(),t=!1):(n.setCustomValidity(""),e=S(n.value,"opp-player"))}if(t){const n=S(N.value,"main-player");W(n,n,e)}}));const F={once:!0};function V(n,e,t){H(n,e,t)}function P(n,t,r){const i=document.querySelector("#your-turn-dialog"),a=document.querySelector("#your-turn-dialog>div>button");"main-player-turn"===e.target.id?a.setAttribute("id","main-player"):a.setAttribute("id","opp-player"),document.querySelector("#player-name").innerText=`${n.getName()}`,a.addEventListener("click",(function(n){i.close(),H(n,t,r)}),F),i.showModal();document.querySelectorAll("#your-turn-dialog>div>*").forEach(((n,e)=>{D(n,100*(e+2))}))}function Z(n,e,t=!1){const r=e.getBoard(),i=r.ships;let a=0,o="A".charCodeAt(0),s=[];i.forEach((r=>{const i=j(r,e,t);r.ship.isSunk()&&i.classList.add("sunk"),n.appendChild(i)}));for(let n=0;n<r.size+1;n++){const e=[];for(let t=0;t<r.size+1;t++){const i=document.createElement("div");n===r.size&&0!==t&&(i.innerText=a,i.classList.add("label"),a++),0===t&&n<r.size&&(i.innerText=String.fromCharCode(o),i.classList.add("label"),o++),0===t&&n===r.size&&i.classList.add("label"),i.classList.contains("label")||i.classList.add("cell"),e.push(i)}s.push(e)}let A=[];for(let n=r.size;n>=0;n--)A.push(s[n]);for(let e=0;e<r.size+1;e++)for(let i=0;i<r.size+1;i++){if(A[e][i].style.gridRow=e+1,A[e][i].style.gridColumn=i+1,t||A[e][i].classList.contains("label")||(A[e][i].addEventListener("dragenter",(n=>{n.preventDefault()})),A[e][i].addEventListener("dragover",(n=>{n.preventDefault()})),A[e][i].addEventListener("drop",(n=>{const e=n.target.style.gridRowStart,t=n.target.style.gridColumnStart,i=n.dataTransfer.getData("text/plain"),a=n.dataTransfer.getData("mouseLoc");let o=Number(t),s=Number(e);const A=r.getShipById(i);if(A.dir===b.horizontal){if("center"===a)o-=Math.floor(A.ship.length/2);else if("right"===a){const n=Math.floor(A.ship.length/2);o=o-A.ship.length+n}}else if("center"===a)s+=Math.floor(A.ship.length/2);else if("top"===a){const n=Math.floor(A.ship.length/2);s=s+A.ship.length-n}const l=document.querySelector(`#${i}`);if(A.dir===b.horizontal){let n=!1,e=2*r.size,t=o-2,i=r.size-s+1;do{e--,n=r.placeShip(A.ship,t,i,b.horizontal),n||(t+A.ship.length>r.size&&t--,t<0&&t++)}while(!n&&e>0);if(n){const n=t+2,e=r.size-i+1;l.style.gridColumn=`${n} / span ${A.ship.length}`,l.style.gridRow=e,l.setAttribute("data-dir","hor"),l.setAttribute("data-x1",t),l.setAttribute("data-y1",i)}}else{let n=!1,e=2*r.size,t=o-2,i=r.size-s+1;do{e--,n=r.placeShip(A.ship,t,i,b.vertical),n||(i+A.ship.length>r.size&&i--,i<0&&i++)}while(!n&&e>0);if(n){A.x1=t,A.y1=i;const n=t+2,e=r.size-i+2-A.ship.length;l.style.gridColumn=n,l.style.gridRow=`${e} / span ${A.ship.length}`,l.setAttribute("data-dir","ver"),l.setAttribute("data-x1",t),l.setAttribute("data-y1",i)}}}))),t&&A[e][i].classList.contains("cell")){const n=r.hits,t=q(r,e+1,i+1);n.filter((n=>n.x===t.x&&n.y===t.y)).length&&A[e][i].classList.add("hit")}n.appendChild(A[e][i])}}})();
//# sourceMappingURL=main.js.map